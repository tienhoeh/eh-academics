<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–°åŠ å¡å›½é™…å­¦æ ¡æ·±åº¦è§£æ | Interactive Guide to Singapore International Schools</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals with Teal Accents -->
    <!-- Application Structure Plan: The application is designed as a single-page interactive dashboard to guide families through the complex decision-making process. The structure prioritizes user flow and task completion over mirroring the linear report. It begins with a high-level overview of Singapore's educational landscape. The core is the 'School Explorer'â€”an interactive comparison tool with charts and a filterable table, allowing users to compare schools based on critical metrics (IB scores, fees). This directly addresses the primary user need for data-driven comparison. Following this is a 'Find Your Fit' section using personas (e.g., 'Ivy League Aspirant') to provide tailored recommendations, simplifying the choice for users unsure where to start. Clicking any school throughout the app reveals its detailed profile in a dedicated, consistently structured section. This architecture transforms the static report into a dynamic, user-driven exploration tool, enhancing comprehension and facilitating informed decisions. -->
    <!-- Visualization & Content Choices: 
        - Report Info: IB Scores vs. Fees. Goal: Compare investment vs. academic return. Viz: Interactive Scatter Plot (Chart.js). Interaction: Hovering over a point reveals school details (name, score, fees). Justification: A scatter plot is the most effective way to show the relationship between two quantitative variables, instantly revealing outliers and value propositions.
        - Report Info: School Comparison Data (Fees, Scores, Size, Type). Goal: Organize & Compare. Presentation: Dynamic HTML Table. Interaction: Sortable columns (by IB score, fees) and filters (by school type, price tier). Justification: A table provides structured, detailed data. Interactivity makes it a powerful tool for users to drill down based on their specific priorities.
        - Report Info: Persona-based recommendations. Goal: Inform & Guide. Presentation: Clickable Persona Cards. Interaction: Clicking a card filters the main school list/table to show only relevant schools. Justification: Personas simplify complex choices into relatable scenarios, guiding users to a manageable shortlist.
        - Report Info: Detailed School Profiles. Goal: Inform. Presentation: Tabbed content view for each school. Interaction: Clicking tabs (Overview, Academics, Fees, etc.) reveals specific information. Justification: Tabs organize extensive content without overwhelming the user, allowing them to pull information as needed rather than being pushed all at once.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', 'Noto Sans SC', sans-serif; }
        .bg-warm-beige { background-color: #F5F5DC; }
        .bg-soft-cream { background-color: #FFFDD0; }
        .bg-light-tan { background-color: #D2B48C; }
        .text-deep-teal { color: #008080; }
        .bg-deep-teal { background-color: #008080; }
        .border-deep-teal { border-color: #008080; }
        .accent-teal { color: #008080; }
        .bg-teal-highlight { background-color: #E0F2F1; }
        .tab-active { border-bottom: 2px solid #008080; color: #008080; font-weight: 600; }
        .tab-inactive { border-bottom: 2px solid transparent; color: #6B7280; }
        .persona-card { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .persona-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .chart-container { position: relative; width: 100%; height: 400px; max-height: 50vh; margin: auto; }
        @media (min-width: 768px) { .chart-container { height: 450px; } }
        .school-row { cursor: pointer; transition: background-color 0.2s ease-in-out; }
        .school-row:hover { background-color: #f0fdfa; }
        .sticky-header { position: sticky; top: 0; z-index: 10; }
    </style>
</head>
<body class="bg-warm-beige text-gray-800">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-deep-teal mb-4">æ–°åŠ å¡å›½é™…å­¦æ ¡æ‹©æ ¡æŒ‡å—</h1>
            <p class="text-lg text-gray-600">ä¸€ä»½ä¸ºä¸­å›½å®¶åº­é‡èº«æ‰“é€ çš„IBæ•™è‚²è·¯å¾„æˆ˜ç•¥æŠ¥å‘Š</p>
        </header>

        <section id="intro" class="bg-white rounded-lg shadow-lg p-8 mb-12">
            <h2 class="text-3xl font-bold text-deep-teal mb-4">æ–°åŠ å¡ï¼šå…¨çƒIBæ•™è‚²çš„å·…å³°</h2>
            <p class="text-gray-700 leading-relaxed">
                æ–°åŠ å¡å·²æˆä¸ºå…¨çƒIBæ•™è‚²çš„å“è¶Šä¸­å¿ƒã€‚å…¶å­¦æ ¡çš„å­¦æœ¯æˆæœæŒç»­å¤§å¹…è¶…è¶Šå›½é™…æ ‡å‡†ã€‚ä¾‹å¦‚ï¼Œ2023å¹´5æœˆï¼Œæ–°åŠ å¡çš„IBæ–‡å‡­å¹³å‡åˆ†ä¸º35.05ï¼Œè¿œé«˜äºå…¨çƒå¹³å‡çš„30.24ã€‚è¿™ç§å“è¶Šè¡¨ç°è¯æ˜äº†å…¶é«˜è´¨é‡çš„æ•™å­¦ã€ç§¯æçš„å­¦ç”Ÿç¾¤ä½“å’Œå¼ºå¤§çš„å®¶åº­å‚ä¸åº¦ã€‚æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨åœ¨è¿™ä¸ªé«˜æˆå°±çš„ç¯å¢ƒä¸­ï¼Œä¸ºæ‚¨å­©å­ç‹¬ç‰¹çš„æ‰èƒ½å’Œéœ€æ±‚ï¼Œæ‰¾åˆ°æœ€åŒ¹é…çš„å­¦æ ¡ã€‚
            </p>
        </section>

        <section id="persona-selector" class="mb-12">
            <h2 class="text-3xl font-bold text-center text-deep-teal mb-6">ç¬¬ä¸€æ­¥ï¼šæ‰¾åˆ°æ‚¨çš„å®¶åº­å®šä½ (Find Your Fit)</h2>
            <p class="text-center text-gray-600 mb-8">é€‰æ‹©æœ€ç¬¦åˆæ‚¨å®¶åº­æ•™è‚²ç›®æ ‡çš„ç±»å‹ï¼Œæˆ‘ä»¬å°†ä¸ºæ‚¨ç­›é€‰å‡ºæœ€åˆé€‚çš„å­¦æ ¡ã€‚</p>
            <div class="grid md:grid-cols-3 gap-8">
                <div id="persona-academic" class="persona-card bg-white rounded-lg shadow-md p-6 text-center cursor-pointer border-2 border-transparent hover:border-deep-teal" onclick="filterByPersona('academic')">
                    <div class="text-4xl mb-4">ğŸ†</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">å¸¸æ˜¥è—¤ç§å­é€‰æ‰‹</h3>
                    <p class="text-gray-600">ç›®æ ‡æ˜¯ç¾å›½å¸¸æ˜¥è—¤ã€è‹±å›½ç‰›å‰‘ç­‰ä¸–ç•Œé¡¶å°–å¤§å­¦ï¼Œæœ€çœ‹é‡IBæˆç»©å’Œç²¾è‹±å¤§å­¦å½•å–è®°å½•ã€‚</p>
                </div>
                <div id="persona-holistic" class="persona-card bg-white rounded-lg shadow-md p-6 text-center cursor-pointer border-2 border-transparent hover:border-deep-teal" onclick="filterByPersona('holistic')">
                    <div class="text-4xl mb-4">ğŸŒ</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">å…¨äººå‘å±•çš„ä¸–ç•Œå…¬æ°‘</h3>
                    <p class="text-gray-600">å­¦æœ¯ä¸ä¸ªäººæˆé•¿å¹¶é‡ï¼Œé‡è§†è·¨æ–‡åŒ–ç†è§£ã€é¢†å¯¼åŠ›å‘å±•å’Œç¤¾åŒºæœåŠ¡ã€‚</p>
                </div>
                <div id="persona-bilingual" class="persona-card bg-white rounded-lg shadow-md p-6 text-center cursor-pointer border-2 border-transparent hover:border-deep-teal" onclick="filterByPersona('bilingual')">
                    <div class="text-4xl mb-4">ğŸ‡¨ğŸ‡³</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">åŒè¯­æ–‡åŒ–é¢†è¢–</h3>
                    <p class="text-gray-600">å¸Œæœ›åœ¨ä¿æŒå¹¶æå‡ä¸­æ–‡å­¦æœ¯æ°´å¹³çš„åŒæ—¶ï¼Œè·å¾—IBåŒè¯­æ–‡å‡­ï¼Œå…·å¤‡æ·±åšçš„åŒæ–‡åŒ–èƒŒæ™¯ã€‚</p>
                </div>
            </div>
             <div class="text-center mt-6">
                <button id="reset-filter" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg transition" onclick="filterByPersona('all')">é‡ç½®ç­›é€‰ (Reset)</button>
            </div>
        </section>

        <section id="school-explorer" class="bg-white rounded-lg shadow-lg p-4 md:p-8 mb-12">
            <h2 class="text-3xl font-bold text-deep-teal mb-6 text-center">ç¬¬äºŒæ­¥ï¼šæ¢ç´¢ä¸æ¯”è¾ƒå­¦æ ¡ (School Explorer)</h2>
            
            <div class="grid lg:grid-cols-5 gap-8">
                <div class="lg:col-span-3">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4 text-center">IBå¹³å‡åˆ† vs. é¦–å¹´æ€»è´¹ç”¨</h3>
                    <div class="chart-container bg-gray-50 rounded-lg p-2">
                        <canvas id="school-comparison-chart"></canvas>
                    </div>
                    <p class="text-center text-sm text-gray-500 mt-2">æ­¤å›¾è¡¨ç›´è§‚å±•ç¤ºäº†å„æ ¡çš„â€œæ€§ä»·æ¯”â€ã€‚å°†é¼ æ ‡æ‚¬åœåœ¨åœ†ç‚¹ä¸ŠæŸ¥çœ‹è¯¦æƒ…ã€‚</p>
                </div>

                <div class="lg:col-span-2 flex flex-col justify-center">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4 text-center">å…³é”®æŒ‡æ ‡æ¦‚è§ˆ</h3>
                    <div class="space-y-4">
                        <div class="bg-teal-highlight p-4 rounded-lg text-center">
                            <p class="text-sm font-medium text-deep-teal">æœ€é«˜IBå¹³å‡åˆ†</p>
                            <p id="stat-max-ib" class="text-3xl font-bold text-gray-900">39.3</p>
                            <p class="text-xs text-gray-600">(Tanglin Trust School)</p>
                        </div>
                        <div class="bg-teal-highlight p-4 rounded-lg text-center">
                            <p class="text-sm font-medium text-deep-teal">é¦–å¹´è´¹ç”¨èŒƒå›´ (èµ°è¯»)</p>
                            <p id="stat-fee-range" class="text-3xl font-bold text-gray-900">~S$33.5k - S$66k</p>
                            <p class="text-xs text-gray-600">(ä¸å«å¯„å®¿)</p>
                        </div>
                        <div class="bg-teal-highlight p-4 rounded-lg text-center">
                            <p class="text-sm font-medium text-deep-teal">å…¨çƒIBå¹³å‡åˆ† (2025)</p>
                            <p class="text-3xl font-bold text-gray-900">30.58</p>
                            <p class="text-xs text-gray-600">(å‚è€ƒåŸºå‡†)</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-12 overflow-x-auto">
                 <h3 class="text-xl font-semibold text-gray-800 mb-4 text-center">å­¦æ ¡æ•°æ®å¯¹æ¯”è¡¨</h3>
                <table class="min-w-full bg-white">
                    <thead class="bg-deep-teal text-white sticky-header">
                        <tr>
                            <th class="text-left py-3 px-4 uppercase font-semibold text-sm cursor-pointer" onclick="sortTable(0)">å­¦æ ¡åç§°</th>
                            <th class="text-left py-3 px-4 uppercase font-semibold text-sm cursor-pointer" onclick="sortTable(1)">IBå¹³å‡åˆ† (2025)</th>
                            <th class="text-left py-3 px-4 uppercase font-semibold text-sm cursor-pointer" onclick="sortTable(2)">é¦–å¹´è´¹ç”¨ (èµ°è¯»)</th>
                            <th class="text-left py-3 px-4 uppercase font-semibold text-sm">å­¦æ ¡ç±»å‹</th>
                        </tr>
                    </thead>
                    <tbody id="school-table-body" class="text-gray-700">
                    </tbody>
                </table>
                 <p class="text-center text-sm text-gray-500 mt-2">ç‚¹å‡»å­¦æ ¡åç§°æŸ¥çœ‹ä¸‹æ–¹è¯¦ç»†èµ„æ–™ã€‚ç‚¹å‡»è¡¨å¤´å¯è¿›è¡Œæ’åºã€‚</p>
            </div>
        </section>

        <section id="school-details" class="bg-white rounded-lg shadow-lg p-8 hidden">
            <div id="details-content"></div>
        </section>

    </div>

    <script>
        const schoolData = [
            {
                id: 'tts',
                name: 'Tanglin Trust School',
                name_zh: 'ä¸œé™µä¿¡æ‰˜å­¦æ ¡',
                ibScore: 39.3,
                fees: 65734,
                boarding: false,
                type: 'è‹±å¼å›½é™…',
                persona: ['academic'],
                profile: {
                    overview: `æˆç«‹äº1925å¹´ï¼Œæ˜¯ä¸œå—äºšæœ€å¤è€çš„è‹±å¼å›½é™…å­¦æ ¡ï¼Œéè¥åˆ©æ€§æœºæ„ã€‚ä»¥å…¶å“è¶Šçš„å­¦æœ¯å’Œå¼ºå¤§çš„ç¤¾åŒºç²¾ç¥è€Œé—»åã€‚å…¶é«˜ä¸­éƒ¨æä¾›A-Levelå’ŒIBåŒè½¨åˆ¶ï¼Œæ˜¯å…¶ä¸€å¤§ç‰¹è‰²ã€‚`,
                    academics: `å…¨çƒè¡¨ç°æœ€å¥½çš„IBå­¦æ ¡ä¹‹ä¸€ã€‚2025å±Šæ¯•ä¸šç”ŸIBå¹³å‡åˆ†é«˜è¾¾39.3ï¼Œ100%é€šè¿‡ç‡ï¼Œ72%çš„å­¦ç”Ÿè·å¾—38åˆ†ä»¥ä¸Šã€‚`,
                    university: `æ¯•ä¸šç”Ÿåœ¨è‹±ç¾é¡¶å°–å¤§å­¦çš„å½•å–è®°å½•éå¸¸å‡ºè‰²ä¸”å‡è¡¡ã€‚2024å¹´ï¼Œ96%çš„æ¯•ä¸šç”Ÿè·å¾—äº†ç¬¬ä¸€æˆ–ç¬¬äºŒå¿—æ„¿å¤§å­¦çš„å½•å–ã€‚å¸¸è§„å½•å–åŒ…æ‹¬ç‰›æ´¥ã€å‰‘æ¡¥åŠç¾å›½å¸¸æ˜¥è—¤ç›Ÿæ ¡ã€‚`,
                    holistic: `æä¾›è¶…è¿‡400ç§è¯¾å¤–æ´»åŠ¨ã€‚åœ¨è‰ºæœ¯å’Œä½“è‚²æ–¹é¢æœ‰å¾ˆå¼ºçš„å®åŠ›ï¼Œå¹¶æ‹¥æœ‰ä¸“ä¸šçº§çš„è¡¨æ¼”å’Œä½“è‚²è®¾æ–½ã€‚`,
                    community: `ä½äºå¥³çš‡é•‡ï¼Œæ‹¥æœ‰2800å¤šåæ¥è‡ª50å¤šä¸ªå›½å®¶çš„å­¦ç”Ÿï¼Œè‹±å›½å­¦ç”Ÿå å¤šæ•°ã€‚æ— å¯„å®¿ã€‚`,
                    mandarin: `ä¸ºæ¯è¯­è€…æä¾›â€œæ¯è¯­è¯¾ç¨‹â€ï¼Œæ—¨åœ¨æ”¯æŒå­¦ç”Ÿå‘å±•ç¬¬ä¸€è¯­è¨€ï¼Œå¹¶ä¸ºè·å¾—IBåŒè¯­æ–‡å‡­åšå‡†å¤‡ã€‚`,
                    fees_detail: `ä¸€æ¬¡æ€§è´¹ç”¨: S$10,000 | å¹´åº¦å­¦è´¹ (12-13å¹´çº§): S$55,734 | æ€»è®¡é¦–å¹´: S$65,734`,
                    address: `95 Portsdown Road, Singapore 139299`
                }
            },
            {
                id: 'acs_i',
                name: 'ACS (Independent)',
                name_zh: 'è‹±åè‡ªä¸»å­¦æ ¡',
                ibScore: 40.8, // Using 2023 data as it's a Nov school
                fees: 33500,
                boarding: true,
                type: 'æœ¬åœ°å›½é™…',
                persona: ['academic'],
                profile: {
                    overview: `æˆç«‹äº1886å¹´çš„å«ç†å…¬ä¼šå­¦æ ¡ï¼Œåœ¨æ–°åŠ å¡æ•™è‚²ç•Œäº«æœ‰ç››èª‰ã€‚è‡ª2005å¹´æˆä¸ºIBä¸–ç•Œå­¦æ ¡ä»¥æ¥ï¼Œä¸€ç›´ä½å±…å…¨çƒIBå­¦æ ¡å‰ä¸‰åã€‚`,
                    academics: `ä¸–ç•Œé¡¶çº§çš„å­¦æœ¯è¡¨ç°ã€‚2023å¹´å¹³å‡åˆ†é«˜è¾¾40.8ã€‚ä»¥åŸ¹å…»å‡ºå¤§é‡æ»¡åˆ†ï¼ˆ45åˆ†ï¼‰å­¦ç”Ÿè€Œé—»åã€‚`,
                    university: `æ‹¥æœ‰å°†æ¯•ä¸šç”Ÿé€å…¥ä¸–ç•Œé¡¶å°–å¤§å­¦çš„æ°å‡ºè®°å½•ï¼ŒåŒ…æ‹¬ç‰›æ´¥ã€å‰‘æ¡¥ã€å“ˆä½›ç­‰ã€‚`,
                    holistic: `æä¾›è¶…è¿‡60ç§è¯¾å¤–æ´»åŠ¨ï¼Œåœ¨ä½“è‚²ã€è¡¨æ¼”è‰ºæœ¯ç­‰æ–¹é¢æœ‰å¾ˆå¼ºçš„ä¼ ç»Ÿã€‚æ ¡å›­è®¾æ–½å…ˆè¿›ï¼ŒåŒ…æ‹¬ä¸“é—¨çš„IBå¤§æ¥¼å’Œä¸€æµçš„ä½“è‚²è®¾æ–½ã€‚`,
                    community: `ä½äºæœä½›è·¯ï¼Œå­¦ç”Ÿä¸»ä½“ä¸ºæ–°åŠ å¡æœ¬åœ°ç”·å­©ï¼Œé«˜ä¸­IBé˜¶æ®µå˜ä¸ºç”·å¥³åŒæ ¡ã€‚å…¶å¯„å®¿å­¦æ ¡å®¹çº³çº¦500åå›½é™…å­¦ç”Ÿï¼Œä¸»è¦æ¥è‡ªä¸­å›½ã€å°å°¼ç­‰åœ°ã€‚`,
                    mandarin: `ä½œä¸ºç‰¹åˆ«è¾…åŠ©è®¡åˆ’ï¼ˆSAPï¼‰å­¦æ ¡ï¼Œå¼ºåˆ¶è¦æ±‚å­¦ç”Ÿè¾¾åˆ°é«˜æ°´å¹³çš„è‹±ä¸­åŒè¯­èƒ½åŠ›ã€‚æä¾›IBä¸­æ–‡Aè¯­è¨€ä¸æ–‡å­¦è¯¾ç¨‹ã€‚`,
                    fees_detail: `å¹´åº¦å­¦è´¹ (å›½é™…å­¦ç”Ÿ): ~S$33,500 | æä¾›å¯„å®¿ï¼Œè´¹ç”¨å¦è®¡ã€‚`,
                    address: `121 Dover Road, Singapore 139650`
                }
            },
            {
                id: 'sji',
                name: 'St. Joseph\'s Institution',
                name_zh: 'åœ£è‹¥ç‘Ÿä¹¦é™¢',
                ibScore: 40.0, // Using 2024 data
                fees: 33500, // Estimated similar to ACS(I)
                boarding: false,
                type: 'æœ¬åœ°å›½é™…',
                persona: ['academic'],
                profile: {
                    overview: `ä¸€æ‰€å¤©ä¸»æ•™å–‡æ²™ä¼šå­¦æ ¡ï¼Œæ˜¯æ–°åŠ å¡æœ€å¤è€ã€æœ€å—å°Šæ•¬çš„å­¦æ ¡ä¹‹ä¸€ã€‚æä¾›å…­å¹´åˆ¶ç›´é€šè½¦è¯¾ç¨‹ï¼ˆIPï¼‰ï¼Œç›´é€šIBDPã€‚`,
                    academics: `å­¦æœ¯å·¨å¤´ã€‚2024å±Šæ¯•ä¸šç”Ÿå¹³å‡åˆ†é«˜è¾¾40åˆ†ï¼Œçº¦60%çš„å­¦ç”Ÿå¾—åˆ†åœ¨40åˆ†åŠä»¥ä¸Šã€‚æ³¨é‡åŸ¹å…»å­¦ç”Ÿâ€œå­¦ä¼šå¦‚ä½•å­¦ä¹ â€çš„èƒ½åŠ›ã€‚`,
                    university: `æ¯•ä¸šç”Ÿè¢«æ–°åŠ å¡æœ¬åœ°é¡¶å°–å¤§å­¦ï¼ˆå›½å¤§ã€å—å¤§ï¼‰å’Œå…¨çƒé¡¶å°–å­¦åºœå½•å–ã€‚`,
                    holistic: `ç‹¬ç‰¹çš„â€œè‰ºæœ¯ç§‘å­¦è¯¾ç¨‹â€å’Œâ€œåˆ›æ–°è€…è¯¾ç¨‹â€é¼“åŠ±è·¨å­¦ç§‘æ€ç»´å’Œåˆ›é€ æ€§è§£å†³é—®é¢˜ã€‚`,
                    community: `ä½äºå¸‚ä¸­å¿ƒçš„Malcolm Roadï¼Œå­¦ç”Ÿä¸»ä½“ä¸ºæ–°åŠ å¡äººï¼Œæä¾›çº¯æ­£çš„æœ¬åœ°æ–‡åŒ–ä½“éªŒã€‚æ— å¯„å®¿ã€‚`,
                    mandarin: `æä¾›IBä¸­æ–‡Aï¼ˆæ ‡å‡†æ°´å¹³ï¼‰ï¼Œä¸“æ³¨äºæ–‡å­¦ä½œå“çš„æ‰¹åˆ¤æ€§é˜…è¯»å’Œæ–‡æœ¬åˆ†æã€‚`,
                    fees_detail: `ä½œä¸ºæœ¬åœ°è‡ªä¸»å­¦æ ¡ï¼Œè´¹ç”¨ä¸ACS(I)ç›¸å½“ï¼Œè¿œä½äºä¼ ç»Ÿå›½é™…å­¦æ ¡ã€‚`,
                    address: `38 Malcolm Road, Singapore 308274`
                }
            },
            {
                id: 'uwcsea',
                name: 'UWCSEA',
                name_zh: 'ä¸œå—äºšä¸–ç•Œè”åˆä¹¦é™¢',
                ibScore: 36.3,
                fees: 64020,
                boarding: true,
                type: 'å›½é™…å­¦æ ¡',
                persona: ['holistic'],
                profile: {
                    overview: `å…¨çƒUWCè¿åŠ¨çš„æ——èˆ°é™¢æ ¡ï¼Œä»¥é€šè¿‡æ•™è‚²ä¿ƒè¿›å’Œå¹³ä¸å¯æŒç»­æœªæ¥ä¸ºä½¿å‘½ã€‚æ‹¥æœ‰ä¸¤ä¸ªæ ¡åŒºï¼Œè¶…è¿‡5500åæ¥è‡ª100å¤šä¸ªå›½å®¶çš„å­¦ç”Ÿã€‚`,
                    academics: `åœ¨æ‹¥æœ‰å…¨çƒæœ€å¤§ã€æœ€å¤šå…ƒåŒ–çš„IBå­¦ç”Ÿç¾¤ä½“ä¹‹ä¸€çš„æƒ…å†µä¸‹ï¼ŒæŒç»­å–å¾—ä¼˜å¼‚æˆç»©ã€‚2025å±Š605åå­¦ç”Ÿå¹³å‡åˆ†36.3ï¼Œ98.7%é€šè¿‡ç‡ã€‚`,
                    university: `æ‹¥æœ‰æ–°åŠ å¡æœ€å¼ºå¤§ã€åœ°åŸŸæœ€å¤šå…ƒåŒ–çš„å¤§å­¦å½•å–è®°å½•ã€‚UWCå“ç‰Œåœ¨å…¨çƒäº«æœ‰ç››èª‰ï¼Œå°¤å…¶åœ¨ç¾å›½ï¼Œæˆ´ç»´æ–¯UWCå­¦è€…è®¡åˆ’ä¸ºæ¯•ä¸šç”Ÿæä¾›å¤§é‡å¥–å­¦é‡‘ã€‚`,
                    holistic: `å…¨äººæ•™è‚²æ˜¯UWCSEAä½“éªŒçš„åŸºçŸ³ï¼Œå›´ç»•å­¦æœ¯ã€æ´»åŠ¨ã€æˆ·å¤–æ•™è‚²ã€ä¸ªäººä¸ç¤¾ä¼šæ•™è‚²ã€æœåŠ¡äº”å¤§æ”¯æŸ±æ„å»ºã€‚`,
                    community: `æ‹¥æœ‰Doverå’ŒEastä¸¤ä¸ªå¤§å‹ç°ä»£åŒ–æ ¡åŒºã€‚å¯„å®¿æ˜¯UWCä½“éªŒçš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œä¸º8å¹´çº§ä»¥ä¸Šå­¦ç”Ÿæä¾›ç´§å¯†ã€æ”¯æŒæ€§çš„å›½é™…åŒ–ä½å®¿ç¤¾åŒºã€‚`,
                    mandarin: `ä¸ºæ¯è¯­è€…ä»1å¹´çº§èµ·å°±æä¾›é«˜çº§ä¸­æ–‡è¯¾ç¨‹ã€‚IBé˜¶æ®µæä¾›ä¸­æ–‡Aï¼ˆè¯­è¨€ä¸æ–‡å­¦/æ–‡å­¦ï¼‰çš„é«˜çº§å’Œæ ‡å‡†æ°´å¹³è¯¾ç¨‹ã€‚`,
                    fees_detail: `ä¸€æ¬¡æ€§è´¹ç”¨: S$5,949 | å¹´åº¦è´¹ç”¨ (å­¦è´¹+å‘å±•ç¨): S$57,774 | æ€»è®¡é¦–å¹´: S$64,020 | å¹´åº¦å¯„å®¿è´¹: S$43,131`,
                    address: `Dover Campus: 1207 Dover Road, Singapore 139654 | East Campus: 1 Tampines Street 73, Singapore 528704`
                }
            },
            {
                id: 'dulwich',
                name: 'Dulwich College (Singapore)',
                name_zh: 'æ–°åŠ å¡å¾·å¨è‹±å›½å›½é™…å­¦æ ¡',
                ibScore: 36.9,
                fees: 66220,
                boarding: true,
                type: 'è‹±å¼å›½é™…',
                persona: ['holistic', 'bilingual'],
                profile: {
                    overview: `æºäºæ‹¥æœ‰400å¹´å†å²çš„ä¼¦æ•¦å¾·å¨å…¬å­¦ï¼Œæ˜¯ä¸€æ‰€å­¦æœ¯é€‰æ‹©æ€§å¼ºã€å…·æœ‰å‰ç»æ€§å’Œåˆ›æ–°ç²¾ç¥çš„å­¦æ ¡ã€‚`,
                    academics: `è¿…é€Ÿå»ºç«‹èµ·å“è¶Šçš„å­¦æœ¯å£°èª‰ã€‚2025å±Š149åå­¦ç”Ÿå¹³å‡åˆ†36.9ï¼Œ100%é€šè¿‡ç‡ï¼Œ2åå­¦ç”Ÿè·å¾—æ»¡åˆ†ã€‚`,
                    university: `æ‹¥æœ‰å¼ºå¤§ä¸”ä¸æ–­å¢é•¿çš„å…¨çƒå¤§å­¦å½•å–è®°å½•ã€‚å‡­å€Ÿå…¶è‹±å›½ä¼ ç»Ÿï¼Œåœ¨è‹±å›½é¡¶å°–å¤§å­¦å½•å–æ–¹é¢ä¼˜åŠ¿æ˜æ˜¾ï¼ŒåŒæ—¶ä¹Ÿç§¯ææ‹“å±•ç¾å›½å¤§å­¦çš„å½•å–ã€‚`,
                    holistic: `æä¾›å¹¿æ³›ã€å‡è¡¡çš„å…¨äººæ•™è‚²ã€‚æ‹¥æœ‰ä¸–ç•Œä¸€æµçš„è®¾æ–½ï¼ŒåŒ…æ‹¬700åº§çš„è¡¨æ¼”è‰ºæœ¯ä¸­å¿ƒå’Œå…ˆè¿›çš„ç§‘æŠ€å®éªŒå®¤ã€‚`,
                    community: `ä½äºBukit Batokï¼Œæ‹¥æœ‰è¿‘3000åæ¥è‡ª60å¤šä¸ªå›½å®¶çš„å­¦ç”Ÿã€‚ä¸º12-13å¹´çº§å­¦ç”Ÿæä¾›ä¸ACS Oldham Hallåˆä½œçš„å…¨å¯„å®¿æœåŠ¡ã€‚`,
                    mandarin: `ä¸­æ–‡è¯¾ç¨‹æ˜¯å…¶ä¸€å¤§å¼ºé¡¹ã€‚é‡‡ç”¨ä¸‰è½¨åˆ¶æ•™å­¦ï¼Œå…¶ä¸­çš„â€œä¸­æ–‡Aï¼ˆæ¯è¯­ï¼‰â€è·¯å¾„ä¸“ä¸ºæ¯è¯­è€…è®¾è®¡ï¼Œä¸“æ³¨äºé«˜çº§æ–‡å­¦åˆ†æå’Œå†™ä½œæŠ€å·§ï¼Œæ˜¯æ–°åŠ å¡å›½é™…å­¦æ ¡ä¸­æœ€å®Œå–„çš„ä¸­æ–‡è¯¾ç¨‹ä¹‹ä¸€ã€‚`,
                    fees_detail: `ä¸€æ¬¡æ€§è´¹ç”¨: S$10,000 | å¹´åº¦å­¦è´¹ (12-13å¹´çº§): S$56,220 | æ€»è®¡é¦–å¹´: S$66,220 | å¹´åº¦å¯„å®¿è´¹: S$43,200`,
                    address: `71 Bukit Batok West Avenue 8, Singapore 658966`
                }
            },
            {
                id: 'nlcs',
                name: 'NLCS Singapore',
                name_zh: 'åŒ—ä¼¦æ•¦å¤§å­¦å­¦é™¢ï¼ˆæ–°åŠ å¡ï¼‰',
                ibScore: 36.3,
                fees: 62640,
                boarding: false,
                type: 'è‹±å¼å›½é™…',
                persona: ['academic', 'bilingual'],
                profile: {
                    overview: `æˆç«‹äº2020å¹´ï¼Œæ˜¯è‹±å›½é¡¶çº§å­¦æœ¯åæ ¡NLCSçš„å§å¦¹å­¦æ ¡ã€‚æä¾›å®Œæ•´çš„IBè¯¾ç¨‹ä½“ç³»ï¼ˆPYP, MYP, DPï¼‰ã€‚`,
                    academics: `ä½œä¸ºä¸€æ‰€æ–°å­¦æ ¡ï¼Œå­¦æœ¯æˆæœæ–ç„¶ã€‚é¦–å±Šæ¯•ä¸šç”Ÿï¼ˆ2023å¹´ï¼‰å¹³å‡åˆ†é«˜è¾¾38.77ã€‚2025å±Šå¹³å‡åˆ†ä¸º36.3ï¼Œ100%é€šè¿‡ç‡ã€‚`,
                    university: `å·²å»ºç«‹èµ·å¼ºå¤§çš„å¤§å­¦å½•å–è®°å½•ï¼Œæ¯•ä¸šç”Ÿè·å¾—å‰‘æ¡¥ã€ä¼¦æ•¦å›½ç‹å­¦é™¢ã€UCLç­‰ä¸–ç•Œåæ ¡çš„å½•å–ã€‚`,
                    holistic: `æ•™ç‰§å…³æ€€æ˜¯å…¶æ•™è‚²å“²å­¦çš„åŸºçŸ³ï¼Œå……æ»¡æ´»åŠ›çš„å­¦é™¢åˆ¶ä¸ºæ¯ä¸ªå­¦ç”Ÿæä¾›æ”¯æŒç½‘ç»œã€‚`,
                    community: `ä½äºDepot Roadï¼Œæ ¡å›­ç°ä»£åŒ–ä½†ç´§å‡‘ã€‚å­¦æ ¡è§„æ¨¡ç›¸å¯¹è¾ƒå°ï¼Œç¤¾åŒºæ„Ÿå¼ºã€‚æ— å¯„å®¿ã€‚`,
                    mandarin: `æä¾›ä¸‰è½¨åˆ¶ä¸­æ–‡è¯¾ç¨‹ï¼Œå…¶â€œæ¯è¯­ä¸­æ–‡è·¯å¾„â€ä¸“ä¸ºæµåˆ©è€…è®¾è®¡ï¼Œå¹¶å¯é€šè¿‡â€œæ‰©å±•â€è¯¾ç¨‹æä¾›é«˜çº§æ–‡å­¦è¯¾ç¨‹ï¼Œä¸ºIBä¸­æ–‡Aåšå‡†å¤‡ã€‚`,
                    fees_detail: `ä¸€æ¬¡æ€§è´¹ç”¨: S$8,000 | å¹´åº¦å­¦è´¹ (12-13å¹´çº§): S$54,640 | æ€»è®¡é¦–å¹´: S$62,640`,
                    address: `130 Depot Road, Singapore 109708`
                }
            },
            {
                id: 'hcis',
                name: 'Hwa Chong International',
                name_zh: 'åä¸­å›½é™…å­¦æ ¡',
                ibScore: 34.0,
                fees: 47420,
                boarding: true,
                type: 'æœ¬åœ°å›½é™…',
                persona: ['bilingual'],
                profile: {
                    overview: `æˆç«‹äº2005å¹´ï¼Œæ˜¯è‘—ååä¸­å¤§å®¶åº­çš„ä¸€å‘˜ã€‚æä¾›å…­å¹´åˆ¶ç›´é€šè½¦è¯¾ç¨‹ï¼Œç›´é€šIBDPã€‚`,
                    academics: `æ‹¥æœ‰ä¼˜å¼‚çš„å­¦æœ¯è¡¨ç°è®°å½•ï¼ŒIBæˆç»©æŒç»­é«˜äºå…¨çƒå¹³å‡æ°´å¹³ã€‚2024å±Šå¹³å‡åˆ†ä¸º37.9ã€‚`,
                    university: `æ‹¥æœ‰å°†æ¯•ä¸šç”Ÿé€å…¥å…¨çƒçŸ¥åå¤§å­¦çš„åšå®è®°å½•ï¼Œå°¤å…¶åœ¨è‹±å›½é¡¶å°–å¤§å­¦å¦‚ç‰›æ´¥ã€KCLã€LSEç­‰æœ‰è‰¯å¥½è¡¨ç°ã€‚`,
                    holistic: `ç»“æ„åŒ–çš„å­¦ç”Ÿå‘å±•æ¡†æ¶å…³æ³¨å­¦ç”Ÿçš„å…¨é¢æˆé•¿ï¼Œæ•´åˆäº†å“æ ¼å‘å±•ã€é¢†å¯¼åŠ›å’ŒæœåŠ¡å­¦ä¹ ã€‚`,
                    community: `ä½äºæ­¦å‰çŸ¥é©¬è·¯ï¼Œå­¦ç”Ÿç¾¤ä½“ç”±è‡³å°‘50%çš„æ–°åŠ å¡äººå’Œæ¥è‡ª20å¤šä¸ªå›½å®¶çš„å›½é™…å­¦ç”Ÿç»„æˆï¼Œåˆ›é€ äº†ç‹¬ç‰¹çš„åŒæ–‡åŒ–ç¯å¢ƒã€‚æä¾›å¯„å®¿ã€‚`,
                    mandarin: `æºäºåä¸­ä¼ ç»Ÿï¼Œå¯¹ä¸­æ–‡è¯­è¨€å’Œæ–‡åŒ–æœ‰å¾ˆå¼ºçš„ä¾§é‡ã€‚æä¾›IBä¸­æ–‡Aï¼šè¯­è¨€ä¸æ–‡å­¦è¯¾ç¨‹ï¼Œæ˜¯å¯»æ±‚é‡è§†å’Œæ¨å¹¿é«˜æ°´å¹³ä¸­æ–‡ç¯å¢ƒå®¶åº­çš„ç†æƒ³é€‰æ‹©ã€‚`,
                    fees_detail: `ä¸€æ¬¡æ€§è´¹ç”¨ (å«S$6kå¯é€€æŠ¼é‡‘): S$12,540 | å¹´åº¦å­¦è´¹ (11-12å¹´çº§): S$34,880 | æ€»è®¡é¦–å¹´: S$47,420`,
                    address: `663 Bukit Timah Road, Singapore 269783`
                }
            },
            {
                id: 'acsi',
                name: 'ACS (International)',
                name_zh: 'è‹±åå›½é™…å­¦æ ¡',
                ibScore: 38.34, // Using 2024 data
                fees: 48630,
                boarding: false,
                type: 'æœ¬åœ°å›½é™…',
                persona: ['academic', 'bilingual'],
                profile: {
                    overview: `æˆç«‹äº2005å¹´ï¼Œæ˜¯è‹±åå­¦æ ¡å¤§å®¶åº­çš„ä¸€å‘˜ï¼Œæ˜¯ä¸€æ‰€ç§ç«‹çš„â€œæœ¬åœ°å›½é™…â€å­¦æ ¡ã€‚è¯¾ç¨‹èåˆäº†æ–°åŠ å¡çš„å­¦æœ¯ä¸¥è°¨æ€§å’Œå›½é™…åŒ–èƒŒæ™¯ã€‚`,
                    academics: `æ‹¥æœ‰ä¼˜å¼‚çš„IBæˆç»©è®°å½•ï¼Œå†å²å¹³å‡åˆ†éå¸¸å‡ºè‰²ï¼Œ2024å¹´ä¸º38.34åˆ†ã€‚`,
                    university: `åœ¨å°†å­¦ç”Ÿé€å…¥é¡¶å°–è¥¿æ–¹å¤§å­¦æ–¹é¢æœ‰å¾ˆå¼ºçš„å†å²ã€‚æ¯•ä¸šç”Ÿæ¯å¹´éƒ½ä¼šæ”¶åˆ°æ¥è‡ªä¸–ç•Œå„åœ°å¤§å­¦çš„ä¼—å¤šå½•å–é€šçŸ¥ä¹¦ã€‚`,
                    holistic: `æä¾›è¶…è¿‡40ç§è¯¾å¤–æ´»åŠ¨å’Œ200å¤šä¸ªæ­£å¼é¢†å¯¼åŠ›èŒä½ï¼Œå¹¶ç»„ç»‡å›½é™…æœåŠ¡å’Œæ–‡åŒ–äº¤æµæ—…è¡Œã€‚`,
                    community: `ä½äºå……æ»¡æ´»åŠ›çš„è·å…°æ‘åœ°åŒºã€‚å­¦ç”Ÿäººæ•°çº¦1100äººï¼Œç”±50%æ–°åŠ å¡å­¦ç”Ÿå’Œ50%å›½é™…å­¦ç”Ÿç»„æˆï¼Œæ–‡åŒ–ç¯å¢ƒå¹³è¡¡ã€‚`,
                    mandarin: `æä¾›IBä¸­æ–‡Aï¼šè¯­è¨€ä¸æ–‡å­¦å’ŒIBä¸­æ–‡Aï¼šæ–‡å­¦è¯¾ç¨‹ï¼Œæ»¡è¶³æ¯è¯­è€…çš„éœ€æ±‚ã€‚`,
                    fees_detail: `ä¸€æ¬¡æ€§è´¹ç”¨ (å«S$6kå¯é€€æŠ¼é‡‘): S$10,630 | å¹´åº¦å­¦è´¹ (IBDP): S$38,000 | æ€»è®¡é¦–å¹´: S$48,630`,
                    address: `61 Jalan Hitam Manis, Singapore 278475`
                }
            }
        ];

        let currentChart = null;
        let currentSortColumn = -1;
        let currentSortDirection = 'asc';

        function renderSchoolTable(data) {
            const tableBody = document.getElementById('school-table-body');
            tableBody.innerHTML = '';
            data.forEach(school => {
                const row = document.createElement('tr');
                row.className = 'school-row border-b border-gray-200';
                row.setAttribute('data-school-id', school.id);
                row.innerHTML = `
                    <td class="py-3 px-4 font-semibold text-deep-teal">${school.name_zh} (${school.name})</td>
                    <td class="py-3 px-4">${school.ibScore.toFixed(1)}</td>
                    <td class="py-3 px-4">S$${school.fees.toLocaleString()}</td>
                    <td class="py-3 px-4">${school.type}</td>
                `;
                row.onclick = () => showSchoolDetails(school.id);
                tableBody.appendChild(row);
            });
        }

        function renderChart(data) {
            const ctx = document.getElementById('school-comparison-chart').getContext('2d');
            if (currentChart) {
                currentChart.destroy();
            }
            
            const chartData = {
                datasets: [{
                    label: 'å­¦æ ¡',
                    data: data.map(school => ({
                        x: school.ibScore,
                        y: school.fees,
                        name: `${school.name_zh} (${school.name})`
                    })),
                    backgroundColor: 'rgba(0, 128, 128, 0.6)',
                    borderColor: 'rgba(0, 128, 128, 1)',
                    pointRadius: 8,
                    pointHoverRadius: 12
                }]
            };

            currentChart = new Chart(ctx, {
                type: 'scatter',
                data: chartData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const point = context.raw;
                                    return `${point.name}: IB ${point.x}, è´¹ç”¨ S$${point.y.toLocaleString()}`;
                                }
                            },
                            bodyFont: { size: 14 },
                            titleFont: { size: 0 },
                            padding: 12,
                            backgroundColor: 'rgba(0, 0, 0, 0.8)'
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'IB å¹³å‡åˆ† (è¶Šé«˜è¶Šå¥½)',
                                font: { size: 14 }
                            },
                            grid: {
                                color: '#e5e7eb'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'é¦–å¹´æ€»è´¹ç”¨ (æ–°å…ƒ)',
                                font: { size: 14 }
                            },
                            ticks: {
                                callback: function(value, index, values) {
                                    return 'S$' + (value / 1000) + 'k';
                                }
                            },
                             grid: {
                                color: '#e5e7eb'
                            }
                        }
                    }
                }
            });
        }
        
        function showSchoolDetails(schoolId) {
            const school = schoolData.find(s => s.id === schoolId);
            if (!school) return;

            const detailsContainer = document.getElementById('school-details');
            const detailsContent = document.getElementById('details-content');

            detailsContent.innerHTML = `
                <div class="flex flex-col md:flex-row justify-between items-start mb-6">
                    <div>
                        <h2 class="text-3xl font-bold text-deep-teal">${school.name_zh}</h2>
                        <h3 class="text-xl text-gray-600 font-medium">${school.name}</h3>
                        <p class="text-sm text-gray-500 mt-2">ğŸ“ ${school.profile.address}</p>
                    </div>
                    <button onclick="hideSchoolDetails()" class="mt-4 md:mt-0 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg">&times; å…³é—­</button>
                </div>

                <div class="border-b border-gray-200 mb-6">
                    <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                        <button onclick="showTab(this, '${school.id}', 'overview')" class="tab-active whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">æ¦‚è§ˆ</button>
                        <button onclick="showTab(this, '${school.id}', 'academics')" class="tab-inactive whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">å­¦æœ¯ä¸IB</button>
                        <button onclick="showTab(this, '${school.id}', 'university')" class="tab-inactive whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">å¤§å­¦å»å‘</button>
                        <button onclick="showTab(this, '${school.id}', 'holistic')" class="tab-inactive whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">å…¨äººæ•™è‚²</button>
                        <button onclick="showTab(this, '${school.id}', 'mandarin')" class="tab-inactive whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">ä¸­æ–‡é¡¹ç›®</button>
                        <button onclick="showTab(this, '${school.id}', 'fees_detail')" class="tab-inactive whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">è´¹ç”¨è¯¦æƒ…</button>
                    </nav>
                </div>

                <div id="tab-content" class="prose max-w-none text-gray-700 leading-relaxed">
                    ${school.profile.overview}
                </div>
            `;

            detailsContainer.classList.remove('hidden');
            detailsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            
            document.querySelectorAll('.school-row').forEach(row => {
                row.classList.remove('bg-teal-highlight');
                if(row.getAttribute('data-school-id') === schoolId) {
                    row.classList.add('bg-teal-highlight');
                }
            });
        }
        
        function hideSchoolDetails() {
            document.getElementById('school-details').classList.add('hidden');
            document.querySelectorAll('.school-row').forEach(row => {
                row.classList.remove('bg-teal-highlight');
            });
        }

        function showTab(button, schoolId, tabName) {
            const school = schoolData.find(s => s.id === schoolId);
            if (!school) return;

            document.querySelectorAll(`#school-details nav button`).forEach(btn => {
                btn.classList.remove('tab-active');
                btn.classList.add('tab-inactive');
            });
            button.classList.add('tab-active');
            button.classList.remove('tab-inactive');

            document.getElementById('tab-content').innerHTML = school.profile[tabName];
        }

        function filterByPersona(persona) {
            let filteredData;
            if (persona === 'all') {
                filteredData = schoolData;
            } else {
                filteredData = schoolData.filter(s => s.persona.includes(persona));
            }
            
            document.querySelectorAll('.persona-card').forEach(card => {
                card.classList.remove('ring-2', 'ring-deep-teal', 'ring-offset-2');
            });

            if (persona !== 'all') {
                document.getElementById(`persona-${persona}`).classList.add('ring-2', 'ring-deep-teal', 'ring-offset-2');
            }

            renderSchoolTable(filteredData);
            renderChart(filteredData);
            hideSchoolDetails();
        }

        function sortTable(columnIndex) {
            const tableBody = document.getElementById('school-table-body');
            const rows = Array.from(tableBody.querySelectorAll('tr'));
            
            if (currentSortColumn === columnIndex) {
                currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                currentSortColumn = columnIndex;
                currentSortDirection = 'asc';
            }

            const sortedRows = rows.sort((a, b) => {
                let cellA, cellB;
                if (columnIndex === 0) { // School Name
                    cellA = a.cells[columnIndex].textContent.trim();
                    cellB = b.cells[columnIndex].textContent.trim();
                } else { // IB Score or Fees
                    cellA = parseFloat(a.cells[columnIndex].textContent.replace(/[^0-9.-]+/g,""));
                    cellB = parseFloat(b.cells[columnIndex].textContent.replace(/[^0-9.-]+/g,""));
                }
                
                if (cellA < cellB) {
                    return currentSortDirection === 'asc' ? -1 : 1;
                }
                if (cellA > cellB) {
                    return currentSortDirection === 'asc' ? 1 : -1;
                }
                return 0;
            });

            sortedRows.forEach(row => tableBody.appendChild(row));
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderSchoolTable(schoolData);
            renderChart(schoolData);
        });

    </script>
</body>
</html>
